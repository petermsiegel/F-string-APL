<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>âˆ†F_Help</title>
  <style>
    /* Default styles provided by pandoc.
    ** See https://pandoc.org/MANUAL.html#variables-for-html for config info.
    */
    html {
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 12px;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      html {
        background-color: white;
      }
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    svg {
      height: auto;
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
      font-size: 85%;
      margin: 0;
      hyphens: manual;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      border: none;
      border-top: 1px solid #1a1a1a;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!-- __SKIP_IN_README__ -->
  <style>
    body {
      font-family: Georgia, serif;
      font-size:   15pt;
      padding: 1% 4%;
      margin: 0 auto; /* Centers the body content */
      max-width: 1200px; /* Sets a maximum width */
    }
    /* Inline code */
    code {
      font-size: 88%;
      background-color: #ddfafaff;
      padding: 2px 4px;
      border-radius: 3px;
      font-family: "APL386 Unicode", APL386, "APL385 Unicode", APL385,
        "Courier New", Courier, Lucida Console", "Consolas", monospace;
    }
    /* Code blocks */
    pre {
      background-color: #ddfafaff;
      color: #0a0a0aff;
      font-size: 13pt;
      line-height: 110%;
      padding: 15px;
      border-radius: 5px;
      overflow-x: auto;
      font-family: "APL386 Unicode", APL386, "APL385 Unicode", APL385,
          "Courier New", Courier, "Lucida Console", "Consolas", monospace;
    }
    table {
      background-color: #ffffffff;
      line-height: 1.1;
      font-size: 100%;
      border: 2px solid #210074ff;
      vertical-align: top;
      font-family: "APL386 Unicode", APL386, "APL385 Unicode", APL385,
          "Courier New", Courier, "Lucida Console", "Consolas", monospace;
    }
    /* Table header */
    th {
      font-family:  Georgia,"Courier New", Courier, "Lucida Console", "Consolas", monospace;
      font-weight: 900;
      line-height: 1.1;
      padding: 5px 7px;
      vertical-align: top;
      background-color: #25027eff;
      color: #ffffffff;
    }
    /* Table data */
    td {
      font-family: Georgia,"Courier New", Courier, "Lucida Console", "Consolas", monospace;
      font-weight: 200;
      padding: 5px 7px;
      vertical-align: top;
    }
    tr:nth-child(even) {
      background-color: #ebebebff; /* Light grey for odd rows */
    }
    tr:nth-child(odd) {
      background-color: #ffffffff; /* White for even rows */
    }
    blockquote {
      font-size: 110%;
      background-color: #f4f5f5ff;
    }
    ul, li {
      font-size: 100%;
      line-height: 140%;
    }
    .header { /* Not currently used */
    position: sticky;
    top: 0;
    font-size: 90%;
    font-weight: 900;
    padding: 5px 0;
    background-color: #e7e7e7ff;
    color: black;
    }
    .fixed-footer {
      position: fixed;
      font-size: 90%;
      left: 0;
      bottom: 0;
      width: 100%;
      background-color: #e7e7e7ff;
      color: black;
      text-align: center;
      padding: 5px 0;
    }
    .content-with-left-bar { /* Experimental item(s) have left red bar */
      border-left: 2px solid #ea2f0eff; /* Adjust color and thickness as needed */
      padding-left: 15px; /* Space between the bar and content */
      margin-left: 0px; /* Optional: Space from the left edge of the page */
      height: auto; /* Or set a fixed height, *e.g.*, 200px */
      overflow: hidden; /* Clear floats if internal content uses them */
    }
    .content-with-right-bar { /* Examples have right green bar */
      border-right: 2px solid #229502ff; /* Adjust color and thickness as needed */
      padding-right: 15px; /* Space between the bar and content */
      margin-right: 0px; /* Optional: Space from the left edge of the page */
      height: auto; /* Or set a fixed height, *e.g.*, 200px */
      overflow: hidden; /* Clear floats if internal content uses them */
    }
    .notes {
      font-size: 90%;
      margin-left: 30px;
      width: 90%; /* Adjust width as needed */
    }
  </style>
  <title>âˆ†F â€” Formatted String Literals</title>
  <!-- __SKIP_IN_README_END__ -->
</head>
<body>
<title>âˆ†F â€” Formatted String Literals</title>

<h2
id="f---formatted-string-literals"><span style="font-size: 100%;"><center>âˆ†F
- Formatted String Literals</center></span></h2>
<div class="notes">

<table>
<thead>
<tr>
<th
style="text-align: center;"><span style="font-size: 110%;"><strong>âˆ†F</strong>
is a function for Dyalog APL that interprets <em>f-strings</em>, a
concise, yet powerful way to display multiline Unicode text and complex,
often multidimensional expressions in an APL-friendly style.Â¹
</span></th>
</tr>
</thead>
<tbody>
</tbody>
</table>
</div>

<hr />
<h2 id="table-of-contents">Table of Contents</h2>
<details>            <!-- option: open -->
<summary>Table of Contents</summary> 
<span style="font-size: 90%;">

<ul>
<li><a href="#f---formatted-string-literals">âˆ†F - Formatted String
Literals</a></li>
<li><a href="#table-of-contents">Table of Contents</a></li>
<li><a href="#overview">Overview</a></li>
<li><a href="#installing-f">Installing <strong>âˆ†F</strong></a></li>
<li><a href="#displaying-f-help-in-apl">Displaying âˆ†F
<strong>Help</strong> in APL</a></li>
<li><a href="#f-primer-with-examples">âˆ†F Primer with Examples</a>
<ul>
<li><a href="#code-fields">Code Fields</a></li>
<li><a href="#text-fields-and-space-fields">Text Fields and Space
Fields</a></li>
<li><a href="#null-space-fields">Null Space Fields</a></li>
<li><a href="#code-fields-continued">Code Fields (Continued)</a></li>
<li><a href="#the-box-shortcut">The Box Shortcut</a></li>
<li><a href="#box-mode">Box Mode</a></li>
<li><a href="#omega-shortcuts-explicit">Omega Shortcuts
(Explicit)</a></li>
<li><a href="#referencing-the-f-string-itself">Referencing the F-string
Itself</a></li>
<li><a href="#the-format-shortcut">The Format Shortcut</a></li>
<li><a href="#the-shortcut-for-numeric-commas">The Shortcut for Numeric
Commas</a></li>
<li><a href="#the-quote-shortcut">The Quote Shortcut</a></li>
<li><a href="#the-wrap-shortcut-experimental">The Wrap Shortcut
(Experimental)</a></li>
<li><a href="#self-documenting-code-fields-sdcfs">Self-documenting
<strong>Code fields</strong> (SDCFs)</a></li>
<li><a href="#the-above-shortcut">The Above Shortcut</a></li>
<li><a href="#omega-shortcuts-implicit">Omega Shortcuts
(Implicit)</a></li>
<li><a href="#shortcuts-with-individual-expressions">Shortcuts With
Individual Expressions</a></li>
<li><a href="#a-shortcut-for-dates-and-times">A Shortcut for Dates and
Times</a></li>
<li><a href="#a-shortcut-for-dates-and-times-continued">A Shortcut for
Dates and Times (Continued)</a></li>
<li><a href="#precomputed-f-strings-with-the-dfn-option">Precomputed
F-strings with the <em><strong>DFN</strong></em> Option</a></li>
</ul></li>
<li><a href="#f-syntax-and-other-information">âˆ†F Syntax and Other
Information</a>
<ul>
<li><a href="#f-call-syntax-overview">âˆ†F Call Syntax Overview</a></li>
<li><a href="#f-call-syntax-details">âˆ†F Call Syntax Details</a></li>
<li><a href="#f-options">âˆ†F Options</a></li>
<li><a href="#f-return-value">âˆ†F Return Value</a></li>
<li><a href="#f-f-string-building-blocks">âˆ†F F-string Building
Blocks</a></li>
<li><a
href="#escape-sequences-for-text-fields-and-quoted-strings">Escape
Sequences For Text Fields and Quoted Strings</a></li>
<li><a href="#code-field-shortcuts">Code Field Shortcuts</a></li>
<li><a href="#omega-shortcut-expressions-details">Omega Shortcut
Expressions: Details</a></li>
<li><a href="#wrap-shortcut-details-experimental">Wrap Shortcut: Details
(Experimental)</a></li>
<li><a href="#undocumented-options">Undocumented Options</a></li>
</ul></li>
<li><a href="#copyright">Copyright</a></li>
</ul>
</span>
</details>

<h2 id="overview">Overview</h2>
<p>Inspired by Python <em>f-strings</em>,Â² <strong>âˆ†F</strong> includes
a variety of capabilities to make it easy to evaluate, format, annotate,
and display related multidimensional information. <strong>âˆ†F</strong>
<em>f-strings</em> include:</p>
<ul>
<li><p>The abstraction of 2-dimensional character
<em><strong>fields</strong></em>, generated one-by-one from the user's
specifications and data, then aligned and catenated into a single
overall character matrix result;</p></li>
<li><p><strong>Text fields</strong>, supporting multiline Unicode text
within each field, with the sequence <code>`â—‡</code>
(<strong>backtick</strong> + <strong>statement separator</strong>Â³)
generating a newline (<small><strong>â•UCSÂ 13</strong></small>);</p></li>
<li><p><strong>Code fields</strong>, allowing users to evaluate and
display APL arrays of any dimensionality, depth and type in the user
environment, arrays passed as <strong>âˆ†F</strong> arguments, as well as
arbitrary APL expressions based on full multi-statement dfn logic.â´ Each
<strong>Code field</strong> must return a value, simple or otherwise,
which will be catenated with other fields and returned from
<strong>âˆ†F</strong>;</p>
<p><strong>Code fields</strong> also provide a number of concise,
convenient extensions, such as:</p>
<ul>
<li><p><strong>Quoted strings</strong> in <strong>Code fields</strong>,
with several quote styles:</p>
<ul>
<li><strong>double-quotes</strong><br> <code>âˆ†F '{"like this"}'</code>
or <code>âˆ†F '{"on`â—‡""three""`â—‡lines"}</code>,</li>
<li><strong>double angle quotation marks</strong>,âµ<br>
<code>âˆ†F '{Â«with internal quotes like "this" or ''this''Â»}'</code>, not
to mention</li>
<li>APL's tried-and-true embedded <strong>single-quotes</strong>,<br>
<code>âˆ†F '{''shown ''''right'''' here''}'</code>.</li>
</ul></li>
<li><p>Simple shortcutsâ¶ for</p>
<ul>
<li><strong>format</strong>ting numeric arrays, <strong>$</strong>
(short for <strong>â•FMT</strong>):
<code>âˆ†F '{"F7.5" $ ?0 0}'</code>,</li>
<li>putting a <strong>box</strong> around a specific expression,
<strong>`B</strong>: <code>âˆ†F'{`B â³2 2}'</code>,</li>
<li>placing the output of one expression <strong>above</strong> another,
<strong>%</strong>: <code>âˆ†F'{"Pi"% â—‹1}'</code>,</li>
<li>formatting <strong>date</strong> and <strong>time</strong>
expressions from APL timestamps (<strong>â•TS</strong>) using
<strong>`T</strong> (combiningÂ <strong>1200âŒ¶</strong> and
<strong>â•DT</strong>): <code>âˆ†F'{"hh:mm:ss" `T â•TS}'</code>,</li>
<li><em>and more</em>;</li>
</ul></li>
<li><p>Simple mechanisms for concisely formatting and displaying data
from</p>
<ul>
<li>user arrays or arbitrary code:
<br><code>tempCâ†10 110 40</code><br><code>âˆ†F'{tempC}'</code> or
<code>âˆ†F'{ {âµ&lt;100: 32+9Ã—âµÃ·5 â—‡ "(too hot)"}Â¨tempC }'</code>, <br></li>
<li>arguments to <strong>âˆ†F</strong> that follow the format
string:<br><code>âˆ†F'{32+`âµ1Ã—9Ã·5}' (10 110 40)</code>,<br> where
<code>`âµ1</code> is a shortcut for <code>(âµâŠƒâ¨1+â•IO)</code> (here
<code>10 110 40</code>),</li>
<li><em>and more</em>;</li>
</ul></li>
</ul></li>
<li><p><strong>Space fields</strong>, providing a simple mechanism both
for separating adjacent <strong>Text fields</strong> and inserting
(rectangular) blocks of any number of spaces between any two fields,
where needed;</p>
<ul>
<li>one space: <code>{Â }</code>; five spaces: <code>{Â Â Â Â Â }</code>; or
even, zero spaces: <code>{}</code>;</li>
<li>1000 spaces? Use a code field instead: <code>{1000â´""}</code>.</li>
</ul></li>
<li><p>Multiline (matrix) output built up field-by-field, left-to-right,
from values and expressions in the calling environment or arguments to
<strong>âˆ†F</strong>;</p>
<ul>
<li>After all fields are generated, they are concatenated (after
appropriate vertical alignment) to form a single character matrix:
<em><strong>the return value from</strong></em> <strong>âˆ†F</strong>.
(See the examples below).</li>
</ul></li>
</ul>
<p><strong>âˆ†F</strong> is designed for ease of use, <em>ad hoc</em>
debugging, fine-grained formatting and informal user interaction,â· built
using Dyalog functions and operators.</p>
<details>            
<summary>Notes</summary>
<div class="notes">

<table>
<thead>
<tr>
<th style="text-align: left;">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">Â¹ Throughout this documentation, notably
in the many examples, an index origin of zero (<code>â•IO=0</code>) is
assumed. <strong>Code fields</strong> inherit the index origin and other
system variables from the environment (<em>i.e.</em> namespace) in which
<strong>âˆ†F</strong> is called, so your own examples will work as you
expect. If you wish to modify the <code>â•IO</code> or any system
variable temporarily, you may do so right in the <strong>Code
field</strong>:<br>â€ƒâ€ƒ
<code>âˆ†F '{â•IOâ†1 â—‡ 26=â•Aâ³"Z": "Success" â—‡ "Failure"}'</code>.</td>
</tr>
<tr>
<td style="text-align: left;">Â² <strong>âˆ†F</strong> is inspired by
Python <em><a
href="https://docs.python.org/3/tutorial/inputoutput.html#formatted-string-literals">f-strings</a></em>,
short for "<strong>formatted string literals</strong>", but designed for
APL's multi-dimensional worldview. Python introduced <em>f-strings</em>
in 2016. <strong>âˆ†F</strong> <em>f-strings</em> and Python's are
<strong>not</strong> compatible.</td>
</tr>
<tr>
<td style="text-align: left;">Â³ In this document, we use the symbol
<code>â—‡</code> (<code>â•UCS 9671</code>) to represent the APL
<em>statement separator</em> (<code>â•UCS 8900</code>), since the latter
is displayed <em>in some browsers</em> as a hard-to-read glyph.
<strong>âˆ†F</strong> will recognize <code>`â—‡</code> with <em>either</em>
glyph.</td>
</tr>
<tr>
<td style="text-align: left;">â´ <strong>âˆ†F Code fields</strong> <em>as
input</em> are limited to a single, possibly very long, line.</td>
</tr>
<tr>
<td style="text-align: left;">âµ <strong>Double angle quotation
marks</strong> <big><strong>Â«Â Â»</strong></big> (<em>guillemets</em>) are
Unicode chars <code>â•UCS 171 187</code> (on the std Mac keyboard:
<em><em>option-backslash</em></em> and
<em><em>option-shift-backslash</em></em>). When including literal
guillemets in guillemet-bracketed quotations
(<span style="color: red;"><em>but why?</em></span>â€‰), opening
guillemets <big><strong>Â«</strong></big> are <em>not</em> doubled, but
<em>two</em> closing guillemets are needed for each literal
<big><strong>Â»</strong></big> required.</td>
</tr>
<tr>
<td style="text-align: left;">â¶ Details on all the shortcuts are
provided later in this document. See <strong><em>Code Field
Shortcuts.</em></strong></td>
</tr>
<tr>
<td style="text-align: left;">â· As a prototype, <strong>âˆ†F</strong> is
relatively slow, using an APL recursive scan to analyze the
<strong>f-string</strong>. See the <em><strong>DFN</strong></em> option
(below) for a way to speed up frequently used <em>f-strings</em>.</td>
</tr>
</tbody>
</table>
</div></details>

<hr />
<h2 id="installing-f">Installing <strong>âˆ†F</strong></h2>
<details>            <!-- option: open -->
<summary>Installing <bold>âˆ†F</bold> in Dyalog APL</summary>

<ol type="1">
<li>On Github, search for <code>"f-string-apl"</code>.</li>
<li>Copy the files <strong>âˆ†Fapl.dyalog</strong> and
<strong>âˆ†F_Help.html</strong> into your current working directory (the
one shown via <code>]cd</code>).</li>
<li>Then, from your Dyalog session (typically <code>#</code> or
<code>â•SE</code>), enter:<br />
<code>]load âˆ†Fapl [-target=</code><strong><em>myns</em></strong><code>]</code><br />
a. Each time it is called, the <code>]load</code> will create both
function <strong>âˆ†F</strong> and namespace <strong>â™Fapl</strong> in the
active namespace (or <strong><em>myns</em></strong>).
<strong>â™Fapl</strong> contains utilities used by
<strong>âˆ†F</strong>.<br />
b. If <strong>âˆ†F_Help.html</strong> is available at <code>]load</code>
time, it will be copied into <strong>â™Fapl</strong> (or a message will
note its absence).</li>
</ol>
<p>Now, <strong>âˆ†F</strong> is available in the active namespace (or
<strong><em>myns</em></strong>), along with <strong>â™Fapl</strong>.</p>
</details>

<h2 id="displaying-f-help-in-apl">Displaying âˆ†F <strong>Help</strong> in
APL</h2>
<p><span style="font-size: 130%;">ğŸ‘‰ </span>To display this
<strong>HELP</strong> information, type: <code>âˆ†Fâ¨ 'help'</code>.</p>
<hr />
<h2 id="f-primer-with-examples">âˆ†F Primer with Examples</h2>
<details>            <!-- option: open -->
<summary>Show/Hide âˆ†F Primer with examples</summary>

<div class="content-with-right-bar">

<p>Before providing information on <strong>âˆ†F</strong> syntax and other
details, <em>let's start with some examples</em>â€¦</p>
<p>First, let's set some context.</p>
<pre><code>   â•IO â•MLâ† 0 1        </code></pre>
<h3 id="code-fields">Code Fields</h3>
<p>Here are <strong>Code fields</strong> with simple variables.</p>
<pre><code>   nameâ† &#39;Fred&#39; â—‡ ageâ† 43
   âˆ†F &#39;The patient&#39;&#39;s name is {name}. {name} is {age} years old.&#39;
The patient&#39;s name is Fred. Fred is 43 years old.</code></pre>
<p><strong>Code fields</strong> can contain arbitrary expressions. With
default options, <strong>âˆ†F</strong> always returns a single character
matrix. Here <strong>âˆ†F</strong> returns a matrix with 2 rows and 32
columns.</p>
<pre><code>   tempCâ† âª35 85
   â´â•â† âˆ†F &#39;The temperature is {tempC}{2 2â´&quot;Â°C&quot;} or {32+tempCÃ—9Ã·5}{2 2â´&quot;Â°F&quot;}&#39;
The temperature is 35Â°C or  95Â°F.
                   85Â°C    185Â°F
2 32                </code></pre>
<p>Here, we assign the <em>f-string</em> to an APL variable, then call
<strong>âˆ†F</strong> twice!</p>
<pre><code>   â•RLâ† 2342342                 â â•RL: Ensure our random #s aren&#39;t random!
   namesâ† &#39;Mary&#39; &#39;Jack&#39; &#39;Tony&#39; â—‡ prizeâ† 1000
   fâ† &#39;Customer {namesâŠƒâ¨ ?â‰¢names} wins Â£{?prize}!&#39;
   âˆ†F f
Customer Jack wins Â£80!
   âˆ†F f
Customer Jack wins Â£230!</code></pre>
<p>Isn't Jack lucky, winning twice in a row!</p>
<h3 id="text-fields-and-space-fields">Text Fields and Space Fields</h3>
<p>Below, we have some multi-line <strong>Text fields</strong> separated
by non-null <strong>Space fields</strong>.</p>
<ul>
<li>The backtick is our "escape" character.</li>
<li>The sequence `â—‡ generates a new line in the current text field.</li>
<li>Each <strong>Space field</strong> <code>{ }</code> in the next
example contains one space within its braces. It produces a matrix a
<em>single</em> space wide with as many rows as required to catenate it
with adjacent fields.</li>
</ul>
<p>A <strong>Space field</strong> is useful here because each multi-line
field is built in its own rectangular space.</p>
<pre><code>   âˆ†F &#39;This`â—‡is`â—‡an`â—‡example{ }Of`â—‡multi-line{ }Text`â—‡Fields&#39;
This    Of         Text
is      multi-line Fields
an
example</code></pre>
<h3 id="null-space-fields">Null Space Fields</h3>
<p>Two adjacent <strong>Text fields</strong> can be separated by a null
<strong>Space field</strong> <code>{}</code>, for example when at least
one field contains multiline input that you want formatted separately
from others, keeping each field in is own rectangular space:</p>
<pre><code>â  Extra space here â†“ 
   âˆ†F &#39;Cat`â—‡Elephant `â—‡Mouse{}Felix`â—‡Dumbo`â—‡Mickey&#39;
Cat      Felix
Elephant Dumbo
Mouse    Mickey</code></pre>
<p>In the above example, we added an extra space after the longest
animal name, <em>Elephant</em>, so it wouldn't run into the next word,
<em>Dumbo</em>.</p>
<p><strong>But wait! There's an easier way!</strong></p>
<p>Here, you surely want the lefthand field to be guaranteed to have a
space after <em>each</em> word without fiddling; a <strong>Space
field</strong> with at least one space will solve the problem:</p>
<pre class="apl"><code>â                          â†“â†“â†“
   âˆ†F &#39;Cat`â—‡Elephant`â—‡Mouse{ }Felix`â—‡Dumbo`â—‡Mickey&#39;
Cat      Felix
Elephant Dumbo
Mouse    Mickey</code></pre>
<h3 id="code-fields-continued">Code Fields (Continued)</h3>
<p>And this is the same example, but with two <strong>Code
fields</strong> separated by a <strong>Text field</strong> with a single
space. (We could have used a <strong>Space field</strong>
<code>{ }</code> here as well.)</p>
<pre><code>   âˆ†F &#39;{â†‘&quot;Cat&quot; &quot;Elephant&quot; &quot;Mouse&quot;} {â†‘&quot;Felix&quot; &quot;Dumbo&quot; &quot;Mickey&quot;}&#39;
Cat      Felix
Elephant Dumbo
Mouse    Mickey</code></pre>
<p>Here's a similar example with double quote-delimited strings in
<strong>Code fields</strong> with the newline sequence,
<code>`â—‡</code>:</p>
<pre><code>   âˆ†F &#39;{&quot;This`â—‡is`â—‡an`â—‡example&quot;} {&quot;Of`â—‡Multi-line&quot;} {&quot;Strings`â—‡in`â—‡Code`â—‡Fields&quot;}&#39;
This    Of         Strings
is      Multi-line in
an                 Code
example            Fields</code></pre>
<p>Here is some multiline data we'll add to our <strong>Code
fields</strong>, using APL <em>mix</em> <code>â†‘</code> to generate
multiline objects (matrices).</p>
<pre><code>   fNmâ†  &#39;John&#39; &#39;Mary&#39; &#39;Ted&#39;
   lNmâ†  &#39;Smith&#39; &#39;Jones&#39; &#39;Templeton&#39;
   addrâ† &#39;24 Mulberry Ln&#39; &#39;22 Smith St&#39; &#39;12 High St&#39;
   
   âˆ†F &#39;{â†‘fNm} {â†‘lNm} {â†‘addr}&#39;
John Smith     24 Mulberry Ln
Mary Jones     22 Smith St
Ted  Templeton 12 High St</code></pre>
<p>Here's a slightly more interesting code expression, using the
shortcut <code>$</code> (<em>i.e.</em> Dyalog's <code>â•FMT</code>) to
round Centigrade numbers to the nearest whole degree and Fahrenheit
numbers to the nearest tenth of a degree. (We could have used
<code>0â•âª</code> and <code>1â•âª</code>, of course.)</p>
<pre><code>   Câ† 11.3 29.55 59.99
   âˆ†F &#39;The temperature is {&quot;I2&quot; $ C}Â°C or {&quot;F5.1&quot;$ 32+9Ã—CÃ·5}Â°F&#39;
The temperature is 11Â°C or  52.3Â°F
                   30       85.2
                   60      140.0</code></pre>
<h3 id="the-box-shortcut">The Box Shortcut</h3>
<p>Here we place boxes around key <strong>Code fields</strong> in this
same example to introduce the shortcut <code>`B</code> (Box).</p>
<pre><code>   Câ† 11.3 29.55 59.99
   âˆ†F &#39;`â—‡The temperature is {`B &quot;I2&quot; $ C}`â—‡Â°C or {`B &quot;F5.1&quot; $ 32+9Ã—CÃ·5}`â—‡Â°F&#39;
                   â”Œâ”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”
The temperature is â”‚11â”‚Â°C or â”‚ 52.3â”‚Â°F
                   â”‚30â”‚      â”‚ 85.2â”‚
                   â”‚60â”‚      â”‚140.0â”‚
                   â””â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”˜</code></pre>
<h3 id="box-mode">Box Mode</h3>
<p>What if you want to place a box around every <strong>Code</strong>,
<strong>Text</strong>, <strong><em>and</em></strong> <strong>Space
field</strong>? We can just use the <strong>Box</strong> mode
option!</p>
<p>While we can't place boxes around text (or space) fields using
<code>`B</code>, we can place a box around
<em><strong>each</strong></em> field <em>regardless</em> of type. by
setting <strong>Box</strong> mode (<strong>âˆ†F</strong>'s third option)
to <code>1</code>, <em>e.g.</em> setting <strong>âˆ†F</strong>'s left
argument to <code>0 0 1</code>:</p>
<pre><code>   Câ† 11.3 29.55 59.99
â      â†“Â¯Â¯Â¯ Box mode
   0 0 1 âˆ†F &#39;`â—‡The temperature is {&quot;I2&quot; $ C}`â—‡Â°C or {&quot;F5.1&quot; $ 32+9Ã—CÃ·5}`â—‡Â°F&#39;
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”
â”‚                   â”‚11â”‚      â”‚ 52.3â”‚  â”‚
â”‚The temperature is â”‚30â”‚Â°C or â”‚ 85.2â”‚Â°Fâ”‚
â”‚                   â”‚60â”‚      â”‚140.0â”‚  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”˜</code></pre>
<p>We said you could place a box around every field, but there's an
exception. Null <strong>Space fields</strong> <code>{}</code>,
<em>i.e.</em> 0-width <strong>Space fields</strong>, are discarded once
they've done their work of separating adjacent fields (typically
<strong>Text fields</strong>), so they won't be placed in boxes. Try
this expression on your own:</p>
<pre><code>   0 0 1 âˆ†F &#39;abc{}def{}{}ghi{&quot;&quot;}jkl{ }mno&#39;</code></pre>
<p>In contrast, <strong>Code fields</strong> that return null values
(like <code>{""}</code> above) <em>will</em> be displayed!</p>
<h3 id="omega-shortcuts-explicit">Omega Shortcuts (Explicit)</h3>
<blockquote>
<p>Referencing <strong>âˆ†F</strong> arguments after the
<em>f-string</em>: Omega shortcut expressions like <code>`âµ1</code>.</p>
</blockquote>
<p>The expression <code>`âµ1</code> is equivalent to
<code>(âµâŠƒâ¨ 1+â•IO)</code>, selecting the first argument after the
<em>f-string</em>. Similarly, <code>`âµ99</code> would select
<code>(âµâŠƒâ¨99+â•IO)</code>.</p>
<p>We will use <code>`âµ1</code> here, both with shortcuts and an
externally defined function <code>C2F</code>, that converts Centigrade
to Fahrenheit. A bit further below, we discuss bare <code>`âµ</code>
(<em>i.e.</em> without an appended non-negative integer).</p>
<pre><code>   C2Fâ† 32+9Ã—Ã·âˆ˜5
   âˆ†F &#39;The temperature is {&quot;I2&quot; $ `âµ1}Â°C or {&quot;F5.1&quot; $ C2F `âµ1}Â°F&#39; (11 15 20)
The temperature is 11Â°C or 51.8Â°F
                   15      59.0
                   20      68.0</code></pre>
<h3 id="referencing-the-f-string-itself">Referencing the F-string
Itself</h3>
<p>The expression <code>`âµ0</code> always refers to the
<em>f-string</em> itself.Â¹ Try this yourself:Â²</p>
<pre><code>   âˆ†F &#39;Our string {`âµ0â†“} is {â‰¢`âµ0} characters&#39;</code></pre>
<details>            
<summary>Notes</summary>
<div class="notes">

<table>
<thead>
<tr>
<th style="text-align: left;">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">Â¹ <code>`âµ0</code> refers to the
<em>f-string</em> independent of the the number of elements in the right
argument to <strong>âˆ†F</strong> (<em>effectively</em>,
<code>âŠ†âµ</code>).</td>
</tr>
<tr>
<td style="text-align: left;">Â² We explain the <code>â†“</code> before the
closing brace <code>}</code> under <strong><em>Self-Documenting Code
Fields</em></strong> below.</td>
</tr>
</tbody>
</table>
</div></details>

<h3 id="the-format-shortcut">The Format Shortcut</h3>
<blockquote>
<p>Let's add commas to some very large numbers using the <code>$</code>
(<code>â•FMT</code>) shortcut.</p>
</blockquote>
<p>We can use Dyalog's built-in formatting specifier "C" with shortcut
<code>$</code> (<code>â•FMT</code>) to add appropriate commas to the
temperatures!</p>
<pre><code>â  The temperature of the sun at its core in degrees C.
   sun_coreâ† 15E6                   â 15000000 is a bit hard to parse!
   âˆ†F &#39;The sun&#39;&#39;s core is at {&quot;CI10&quot; $ sun_core}Â°C or {&quot;CI10&quot; $ C2F sun_core}Â°F&#39;
The sun&#39;s core is at 15,000,000Â°C or 27,000,032Â°F</code></pre>
<h3 id="the-shortcut-for-numeric-commas">The Shortcut for Numeric
Commas</h3>
<p>The <code>`C</code> shortcut adds commas every 3 digits (from the
right) to one or more numbers or numeric strings.Â¹ It has an advantage
over the <code>$</code> (Dyalog's <code>â•FMT</code>) specifier: it
doesn't require you to guesstimate field widths.</p>
<details>            
<summary>Note</summary>
<div class="notes">

<table>
<thead>
<tr>
<th style="text-align: left;">Note</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">Â¹ Typically, each number or numeric string
presented to <code>`C</code> will represent an integer, but if a real
number is presented, only the integer part will have commas added.</td>
</tr>
</tbody>
</table>
</div></details>

<p>Let's use the <code>`C</code> shortcut to add the commas to the
temperatures!</p>
<pre><code>   sun_coreâ† 15E6               â 15000000 is a bit hard to parse!
   âˆ†F &#39;The sun&#39;&#39;s core is at {`C sun_core}Â°C or {`C C2F sun_core}Â°F.&#39;
The sun&#39;s core is at 15,000,000Â°C or 27,000,032Â°F.</code></pre>
<p>Cool! OK, not literally.</p>
<p>And for a bit of a twist, let's display either degrees Centigrade or
Fahrenheit under user control (<code>1</code> =&gt; F, <code>0</code>
=&gt; C). Here, we establish the format-string <code>sunFC</code> first,
then pass it to <strong>âˆ†F</strong> with an additional argument.</p>
<pre><code>   sunFCâ† &#39;The sun&#39;&#39;s core is at {`C C2Fâ£`âµ1âŠ¢ sun_core}Â°{ `âµ1âŠƒ &quot;CF&quot;}.&#39;
   âˆ†F sunFC 1
The sun&#39;s core is at 27,000,032Â°F.
   âˆ†F sunFC 0
The sun&#39;s core is at 15,000,000Â°C.</code></pre>
<h3 id="the-quote-shortcut">The Quote Shortcut</h3>
<blockquote>
<p>Placing quotes around string elements of an array.</p>
</blockquote>
<p>The <strong>Quote</strong> shortcut <code>`Q</code> recursively scans
its right argument, matching rows of character arrays, character
vectors, and character scalars, doubling internal single quotes and
placing single quotes around the items found.Â¹ Non-character data is
returned as is. This is useful, for example, when you wish to clearly
distinguish character from numeric data.</p>
<details>            
<summary>Note</summary>
<div class="notes">

<table>
<thead>
<tr>
<th style="text-align: left;">Note</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">Â¹ If a higher character array is found,
its rows are quoted; if a character vector, it is quoted <em>in
toto</em>; else, each character scalar is quoted in isolation.</td>
</tr>
</tbody>
</table>
</div></details>

<p>Let's look at a couple of simple examples:</p>
<p>First, let's use the <code>`Q</code> shortcut to place quotes around
the simple character arrays in its right argument, <code>âµ</code>. This
is useful when you want to distinguish between character output that
might include numbers and <em>actual</em> numeric output.</p>
<pre><code>   âˆ†F &#39;{`Q 1 2 &quot;three&quot; 4 5 (âª1 &quot;2&quot;) (âª&quot;cats&quot; &quot;dogs&quot;)}&#39;   
1 2  &#39;three&#39;  4 5     1    &#39;cats&#39;
                    &#39;2&#39;    &#39;dogs&#39;</code></pre>
<p>And here's an example with a simple, mixed vector (<em>i.e.</em> with
character and numeric scalars only). First, we display an object without
using the <strong>Quote</strong> shortcut. Are you
<strong><em>sure</em></strong> which elements are numeric and which
character scalars?</p>
<pre><code>   âˆ†F &#39;{1 2 &quot;3&quot; 4 &quot;5&quot;}&#39;
1 2 3 4 5</code></pre>
<p>Now, we show it <strong><em>with</em></strong> the
<strong>Quote</strong> shortcut. VoilÃ , quotes appear around the
character digits, but not the actual numbers!</p>
<pre><code>   âˆ†F &#39;{`Q 1 2 &quot;3&quot; 4 &quot;5&quot;}&#39;
1 2 &#39;3&#39; 4 &#39;5&#39;</code></pre>
<h3 id="the-wrap-shortcut-experimental">The Wrap Shortcut
<span style="color: red;">(Experimental)</span></h3>
<blockquote>
<p>Wrapping results in left and right decorators</p>
</blockquote>
<div class="content-with-left-bar">

<p>Here we make a quick mention of the
<strong><em>experimental</em></strong> shortcut <strong>Wrap</strong>,Â¹
<code>`W</code>, which is used when you want a
<strong><em>decorator</em></strong> string that is placed immediately to
the left or right of <strong><em>each</em></strong> row of simple
objects in the right argument, <code>âµ</code>.</p>
<ul>
<li>The decorators are in <code>âº</code>, the left argument to
<strong>Wrap</strong>: the left decorator, <code>0âŠƒ2â´âº</code>, and the
right decorator, <code>1âŠƒ2â´âº</code>, with <code>âº</code> defaulting to a
single quote.</li>
<li>If you need to omit one or the other decorator, simply make it a
null string <code>""</code> or a <em>zilde</em> <code>â¬</code>.</li>
</ul>
<details>            
<summary>Note</summary>
<div class="notes">

<table>
<thead>
<tr>
<th style="text-align: left;">Note</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">Â¹ <strong>Wrap</strong> differs from the
<strong>Quote</strong> shortcut <code>`Q</code>, which puts quotes
<strong><em>only</em></strong> around the character arrays in
<code>âµ</code>. For more, see <strong>Wrap</strong> (<code>`W</code>)
<strong>Details</strong> <em>below</em>.</td>
</tr>
</tbody>
</table>
</div></details>

<p><strong>Here are two simple examples.</strong></p>
<p>In the first, we place <code>"Â°C"</code> after <strong>[a]</strong>
each row of a table <code>âª`âµ2</code>, or <strong>[b]</strong> after
each simple vector in <code>,Â¨`âµ2</code>. We indicate that is no
<em>left</em> decorator here using <code>""</code> or <code>â¬</code>, as
here.</p>
<pre><code>â         ... [a] ...       .... [b] ....
    âˆ†F &#39;{ `âµ1 `W âª`âµ2 } ...{ `âµ1 `W ,Â¨`âµ2 }&#39; (â¬ &#39;Â°C&#39;)(18 22 33)
18Â°C ... 18Â°C 22Â°C 33Â°C
22Â°C
33Â°C</code></pre>
<p>In this next example, we place brackets around the lines of each
simple array in a complex array.</p>
<pre><code>   âˆ†F &#39;{&quot;[]&quot; `W (&quot;cats&quot;)(â³2 2 1)(2 2â´â³4)(3 3â´â•A) }&#39;
[cats] [0 0 0] [0 1] [ABC]
       [0 1 0] [2 3] [DEF]
                     [GHI]
       [1 0 0]
       [1 1 0]</code></pre>
</div>

<p>Now, let's move on to Self-documenting <strong>Code
fields</strong>.</p>
<h3 id="self-documenting-code-fields-sdcfs">Self-documenting
<strong>Code fields</strong> (SDCFs)</h3>
<blockquote>
<p>Self-documenting Code fields are a useful debugging tool.</p>
</blockquote>
<p>What's an SDCF? An SDCFÂ¹ allows whatever source code is in a
<strong>Code Field</strong> to be automatically displayed literally
along with the result of evaluating that code.</p>
<details>            
<summary>Note</summary>
<div class="notes">

<table>
<thead>
<tr>
<th style="text-align: left;">Note</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">Â¹ Our SDCFs are based on Python's single
type of <strong><a
href="https://docs.python.org/3/whatsnew/3.8.html#f-strings-support-for-self-documenting-expressions-and-debugging">self-documenting
expressions</a></strong> in <em>f-strings</em>, but work somewhat
differently. SDCFs are used <strong><em>only</em></strong> in
<strong>Code fields</strong> (<em>duh</em>).</td>
</tr>
</tbody>
</table>
</div></details>

<p>You may automatically place the source for a <strong>Code
field</strong>:</p>
<ul>
<li><code>â†’</code> to the left of the result of evaluating that code;
or,</li>
<li><code>â†“</code> centered above the result of evaluating that
code.</li>
</ul>
<p>All you have to do is place</p>
<ul>
<li>the right arrow <code>â†’</code> for a <strong>horizontal</strong>
SDCF, or</li>
<li>the down arrow <code>â†“</code> for a <strong>vertical</strong>
SDCF,</li>
</ul>
<p>as the <strong><em>last non-space</em></strong> in the <strong>Code
field</strong>, before the <em>final</em> right brace.</p>
<p>Here's an example of a horizontal SDCF, <em>i.e.</em> using
<code>â†’</code>:</p>
<pre><code>   nameâ†&#39;John Smith&#39; â—‡ ageâ† 34
   âˆ†F &#39;Current employee: {nameâ†’}, {ageâ†’}.&#39;
Current employee: nameâ†’John Smith, ageâ†’34.</code></pre>
<p>As a useful formatting feature, whatever spaces are just
<strong><em>before</em></strong> or <strong><em>after</em></strong> the
symbol <strong>â†’</strong> or <strong>â†“</strong> are preserved
<strong><em>verbatim</em></strong> in the output.</p>
<p>Here's an example with such spaces: see how the spaces adjacent to
the symbol <code>â†’</code> are mirrored in the output!</p>
<pre><code>   nameâ†&#39;John Smith&#39; â—‡ ageâ† 34
   âˆ†F &#39;Current employee: {name â†’ }, {ageâ†’ }.&#39;
Current employee: name â†’ John Smith, ageâ†’ 34.</code></pre>
<p>Now, let's look at an example of a vertical SDCF, <em>i.e.</em> using
<code>â†“</code>:</p>
<pre><code>   nameâ†&#39;John Smith&#39; â—‡ ageâ† 34
   âˆ†F &#39;Current employee: {nameâ†“} {ageâ†“}.&#39;
Current employee:  nameâ†“     ageâ†“.
                  John Smith  34</code></pre>
<p>To make it easier to see, here's the same result, but with a box
around each field (using the <strong>Box</strong> option
<code>0 0 1</code>).</p>
<pre><code>â  Box all fields
   0 0 1 âˆ†F &#39;Current employee: {nameâ†“} {ageâ†“}.&#39;
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”¬â”€â”€â”€â”€â”¬â”€â”
â”‚Current employee: â”‚ nameâ†“    â”‚ â”‚ageâ†“â”‚.â”‚
â”‚                  â”‚John Smithâ”‚ â”‚ 34 â”‚ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”´â”€â”€â”€â”€â”´â”€â”˜</code></pre>
<h3 id="the-above-shortcut">The Above Shortcut</h3>
<blockquote>
<p>A cut above the restâ€¦</p>
</blockquote>
<p>Here's a useful feature. Let's use the shortcut <code>%</code> to
display one expression centered above another; it's called
<strong>Above</strong> and can also be expressed as <code>`A</code>.
Remember, <code>`âµ1</code> designates the
<strong><em>first</em></strong> argument after the <em>f-string</em>
itself, and <code>`âµ2</code> the <strong><em>second</em></strong>.</p>
<pre><code>   âˆ†F &#39;{&quot;Employee&quot; % âª`âµ1} {&quot;Age&quot; % âª`âµ2}&#39; (&#39;John Smith&#39; &#39;Mary Jones&#39;)(29 23)
Employee    Age
John Smith  29
Mary Jones  23</code></pre>
<h3 id="omega-shortcuts-implicit">Omega Shortcuts (Implicit)</h3>
<blockquote>
<p>The <em>next</em> best thing: the use of <code>`âµ</code> in
<strong>Code field</strong> expressionsâ€¦</p>
</blockquote>
<p>We said we'd present the use of omega shortcuts with implicit indices
<code>`âµ</code> in <strong>Code fields</strong>. The expression
<code>`âµ</code> selects the <em>next</em> element of the right argument
<code>âµ</code> to <strong>âˆ†F</strong>, defaulting to <code>`âµ1</code>
when first encountered, <em>i.e.</em> if there are
<strong><em>no</em></strong> <code>`âµ</code> elements (<em>explicit</em>
or <em>implicit</em>) to the <strong><em>left</em></strong> in the
entire <em>f-string</em>. If there is any such expression (<em>e.g.</em>
<code>`âµ5</code>), then <code>`âµ</code> points to the element after that
one (<em>e.g.</em> <code>`âµ6</code>). If the item to the left is
<code>`âµ</code>, then we simply increment the index by <code>1</code>
from that one.</p>
<p><strong>Let's try an example.</strong> Here, we display arbitrary
2-dimensional expressions, one above the other. <code>`âµ</code> refers
to the <strong><em>next</em></strong> argument in sequence, left to
right, starting with <code>`âµ1</code>, the first, <em>i.e.</em>
<code>(âµâŠƒâ¨ 1+â•IO)</code>. So, from left to right <code>`âµ</code> is
<code>`âµ1</code>, <code>`âµ2</code>, and <code>`âµ3</code>. <em>Easy
peasy.</em></p>
<pre><code>   âˆ†F &#39;{(â³2â´`âµ) % (â³2â´`âµ) % (â³2â´`âµ)}&#39; 1 2 3
    0 0
  0 0 0 1
  1 0 1 1
0 0 0 1 0 2
1 0 1 1 1 2
2 0 2 1 2 2</code></pre>
<p>Let's demonstrate here the equivalence of the <em>implicitly</em> and
<em>explicitly</em> indexed <strong>Omega expressions</strong>!</p>
<pre><code>   aâ† âˆ†F &#39;{(â³2â´`âµ) % (â³2â´`âµ) % (â³2â´`âµ)}&#39; 1 2 3     â Implicit Omega expressions
   bâ† âˆ†F &#39;{(â³2â´`âµ1) % (â³2â´`âµ2) % (â³2â´`âµ3)}&#39; 1 2 3  â Explicit Omega expressions
   a â‰¡ b                                           â Are they the same?
1                                                  â Yes!</code></pre>
<h3 id="shortcuts-with-individual-expressions">Shortcuts With Individual
Expressions</h3>
<p>Shortcuts often make sense with individual expressions, not just
entire <strong>Code fields</strong>. They can be manipulated like
ordinary APL functions; since they are just that -- ordinary APL
functions -- under the covers. Here, we display one boxed value above
the other.</p>
<pre><code>   âˆ†F &#39;{(`B â³`âµ1) % `B â³`âµ2}&#39; (2 2)(3 3)
  â”Œâ”€â”€â”€â”¬â”€â”€â”€â”
  â”‚0 0â”‚0 1â”‚
  â”œâ”€â”€â”€â”¼â”€â”€â”€â”¤
  â”‚1 0â”‚1 1â”‚
  â””â”€â”€â”€â”´â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
â”‚0 0â”‚0 1â”‚0 2â”‚
â”œâ”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¤
â”‚1 0â”‚1 1â”‚1 2â”‚
â”œâ”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¤
â”‚2 0â”‚2 1â”‚2 2â”‚
â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜</code></pre>
<p>While not for the faint of heart, the expression above can be recast
as this somewhat hard to read alternative:</p>
<pre><code>   âˆ†F &#39;{%/ `Bâˆ˜â³Â¨ `âµ1 `âµ2}&#39; (2 2)(3 3)</code></pre>
<blockquote>
<p>There are loads of other examples to discover.</p>
</blockquote>
<h3 id="a-shortcut-for-dates-and-times">A Shortcut for Dates and
Times</h3>
<p><strong>âˆ†F</strong> supports a simple <strong>Date-Time</strong>
shortcut <code>`T</code> built from <strong>1200âŒ¶</strong> and
<strong>â•DT</strong>. It takes one or more Dyalog
<code>â•TS</code>-format timestamps as the right argument and a date-time
specification as the (optional) left argument. Trailing elements of a
timestamp may be omitted (they will each be treated as <code>0</code> in
the specification string).</p>
<p>Let's look at the use of the <code>`T</code> shortcut to show the
current time (now).</p>
<pre><code>   âˆ†F &#39;It is now {&quot;t:mm pp&quot; `T â•TS}.&#39;
It is now 8:08 am.</code></pre>
<p>Of course, the time displayed in practice will be the <em>actual</em>
current time.</p>
<p>Here's a fancier example (the power is in <code>1200âŒ¶</code> and
<code>â•DT</code>). (We've added the <em>truncated</em> timestamp
<code>2025 01 01</code> right into the <em>f-string</em>.)</p>
<pre><code>   âˆ†F &#39;{ &quot;D MMM YYYY &#39;&#39;was a&#39;&#39; Dddd.&quot;`T 2025 01 01}&#39;
1 JAN 2025 was a Wednesday.</code></pre>
<h3 id="a-shortcut-for-dates-and-times-continued">A Shortcut for Dates
and Times (Continued)</h3>
<p>If it bothers you to use <code>`T</code> for a date-only expression,
you can use <code>`D</code>, which means exactly the same thing.</p>
<pre><code>   âˆ†F &#39;{ &quot;D MMM YYYY &#39;&#39;was a&#39;&#39; Dddd.&quot; `D 2025 01 02}&#39;
2 JAN 2025 was a Thursday.</code></pre>
<p>Here, we'll pass the time stamp via a single omega expression (hence
it is in parentheses): <code>`âµ1</code>.</p>
<pre><code>   âˆ†F &#39;{ &quot;D Mmm YYYY &#39;&#39;was a&#39;&#39; Dddd.&quot; `T `âµ1}&#39; (2025 1 21)
21 Jan 2025 was a Tuesday.</code></pre>
<p>We could also pass the time stamp via a sequence of omega
expressions: <code>`âµ `âµ `âµ</code>. This is equivalent to the
<em>slightly</em> verbose expression: <code>`âµ1 `âµ2 `âµ3</code>.</p>
<pre><code>   âˆ†F &#39;{ &quot;D Mmm YYYY &#39;&#39;was a&#39;&#39; Dddd.&quot; `T `âµ `âµ `âµ}&#39; 2025 1 21
21 Jan 2025 was a Tuesday.</code></pre>
<h3 id="precomputed-f-strings-with-the-dfn-option">Precomputed F-strings
with the <em><strong>DFN</strong></em> Option</h3>
<p>The default returned from <strong>âˆ†F</strong> is always (on success)
a character matrix. That can be expressed via <code>0 âˆ†Fâ€¦</code>.Â¹
However, if the initial option (<strong><em>DFN</em></strong>) is
<code>1</code>, <em>e.g.</em> the call is <code>1 âˆ†Fâ€¦</code>,
<strong>âˆ†F</strong> returns a dfn that, <em>when called later</em>, will
return precisely the same expression.Â² This is most useful when you are
making repeated use of an <em>f-string</em>, since the overhead for
examining the <em>f-string</em> contents <em>once</em> would be
amortized over all the calls.</p>
<details><summary>Notes</summary>
<div class="notes">

<table>
<thead>
<tr>
<th style="text-align: left;">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">Â¹ <strong>âˆ†F</strong>'s default initial
option (left argument) is <code>0</code>, so <code>0 âˆ†Fâ€¦</code> and
<code>âˆ†Fâ€¦</code> are equivalent. We discuss all the options to
<strong>âˆ†F</strong> later in this document.</td>
</tr>
<tr>
<td style="text-align: left;">Â² This assumes the resulting dfn is called
with the same arguments in the same calling environment in the same
state.</td>
</tr>
</tbody>
</table>
</div></details>

<p>Let's explore an example wheregetting the best performance for a
heavily used <strong>âˆ†F</strong> string is important.</p>
<p>First, let's grab <code>cmpx</code>, so we can compare the
performanceâ€¦</p>
<pre><code>   &#39;cmpx&#39; â•CY &#39;dfns&#39;</code></pre>
<p>Now, let's proceed. Here's the code:</p>
<pre><code>   Câ† 11 30 60

â Here&#39;s our âˆ†F String t
   tâ†&#39;The temperature is {&quot;I2&quot; $ C}Â°C or {&quot;F5.1&quot; $ Fâ† 32+9Ã—CÃ·5}Â°F&#39;

â  Let&#39;s precompute a dfn T, given âˆ†F String t.
â  It has everything needed to generate the output,
â  except the external variables or additional arguments needed.
   Tâ†1 âˆ†F t

â  Compare the performance of the two formatsâ€¦
â  The precomputed version is about 17 times faster, in this run.
   cmpx &#39;âˆ†F t&#39; &#39;T â¬&#39;
âˆ†F t â†’ 1.7EÂ¯4 |   0% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 T â¬ â†’ 1.0EÂ¯5 | -94% â•â•</code></pre>
<blockquote>
<p>Before we get to syntax and other informationâ€¦</p>
</blockquote>
<p>Finally, we want to show you that the <em>dfn</em> returned from
<code>1â€¦âˆ†Fâ€¦</code> can retrieve argument(s) passed on the right side of
<strong>âˆ†F</strong>, using the very same omega shortcut expressions
(<code>`âµ1</code>, etc.) as described above.Â¹</p>
<details>            
<summary>Note</summary>
<div class="notes">

<table>
<thead>
<tr>
<th style="text-align: left;">Note</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">Â¹ The <em>dfn</em> returned from
<code>1â€¦âˆ†Fâ€¦</code> includes the original f-string text used to generate
it. The f-string is available as <code>`âµ0</code>, as expected.</td>
</tr>
</tbody>
</table>
</div></details>

<p>As a variation on the example above, let's share the centigrade
value, not as a <em>variable</em>, but pass it as the <em>first
argument</em> to <strong>âˆ†F</strong> (<em>i.e.</em>
<code>`âµ1`</code>).</p>
<pre><code>   tâ†&#39;The temperature is {&quot;I2&quot; $ `âµ1}Â°C or {&quot;F5.1&quot; $ Fâ† 32+9Ã—`âµ1Ã·5}Â°F&#39;
   Tâ† 1 âˆ†F t

   âˆ†F t 35
The temperature is 35Â°C or 95.0Â°F

   T 35
The temperature is 35Â°C or 95.0Â°F

   cmpx &#39;âˆ†F t 35&#39; &#39;T 35&#39;
âˆ†F t 35 â†’ 1.7EÂ¯4 |   0% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   T 35 â†’ 8.9EÂ¯6 | -95% â•â•</code></pre>
</div>

<p>Below, we summarize key information you've already gleaned from the
examples.</p>
</details>

<h2 id="f-syntax-and-other-information">âˆ†F Syntax and Other
Information</h2>
<details open>            
<summary>Syntax Info</summary>

<h3 id="f-call-syntax-overview">âˆ†F Call Syntax Overview</h3>
<table>
<thead>
<tr>
<th style="text-align: left;">Call
Syntax<div style="width:290px"></div></th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td
style="text-align: left;"><strong>âˆ†F</strong>â€‚<em><strong>f-string</strong></em></td>
<td style="text-align: left;">Display an <em>f-string</em>; use the
<em>default</em> options. The string may reference objects in the
environment or in the string itself. Returns a character matrix.</td>
</tr>
<tr>
<td
style="text-align: left;"><strong>âˆ†F</strong>â€‚<em><strong>f-string</strong></em>â€‚<em><strong>args</strong></em></td>
<td style="text-align: left;">Display an <em>f-string</em>; use the
<em>default</em> options. Arguments presented <em>may</em> be referred
to in the f-string. Returns a character matrix.</td>
</tr>
<tr>
<td
style="text-align: left;"><em><strong>options</strong></em>â€‚<strong>âˆ†F</strong>â€‚<em><strong>f-string</strong></em>â€‚[<em><strong>args</strong></em>]</td>
<td style="text-align: left;">Display an <em>f-string</em>; control the
result with <em>options</em> specified (see below).</td>
</tr>
<tr>
<td style="text-align: left;"></td>
<td style="text-align: left;">If <em>DFN</em> (see below) is
<code>0</code> or omitted, returns a character matrix.</td>
</tr>
<tr>
<td style="text-align: left;"></td>
<td style="text-align: left;">If <em>DFN</em> is <code>1</code>, returns
a dfn that will display such a matrix (given an identical system
state).</td>
</tr>
<tr>
<td style="text-align: left;">'help'â€‚<strong>âˆ†F</strong>â€‚'â€‰'</td>
<td style="text-align: left;">Display help info and examples for
<strong>âˆ†F</strong>. The <em>f-string</em> is not examined.</td>
</tr>
<tr>
<td style="text-align: left;"><strong>âˆ†F</strong>â¨'help'</td>
<td style="text-align: left;">Display help info and examples for
<strong>âˆ†F</strong>.</td>
</tr>
</tbody>
</table>
<h3 id="f-call-syntax-details">âˆ†F Call Syntax Details</h3>
<table>
<thead>
<tr>
<th
style="text-align: left;">Element<div style="width:290px"></div></th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><strong><em>f-string</em></strong></td>
<td style="text-align: left;">a format string, a single character
vector.</td>
</tr>
<tr>
<td style="text-align: left;"><strong><em>args</em></strong></td>
<td style="text-align: left;">elements of âµ after the <em>f-string</em>,
each of which can be accessed in the <em>f-string</em> via an
<strong>Omega</strong> shortcut (<code>`âµğ‘‘ğ‘‘</code>, <em>etc.</em>) or an
ordinary <em>dfn</em> <code>âµ</code> expression.</td>
</tr>
<tr>
<td
style="text-align: left;"><em><strong>options</strong></em>:Â <em>mode</em></td>
<td style="text-align: left;"><code>optionsâ†</code>
<span style="color: red;">[</span> <span style="color: red;">[</span>
<code>0</code> <span style="color: red;">[</span> <code>0</code>
<span style="color: red;">[</span> <code>0</code>
<span style="color: red;">[</span> <code>0</code>
<span style="color: red;">]</span> <span style="color: red;">]</span>
<span style="color: red;">]</span> <span style="color: red;">]</span>
Â <span style="color: red;"><strong>|</strong></span> <code>'help'</code>
<span style="color: red;">]</span></td>
</tr>
<tr>
<td
style="text-align: left;">â€ƒ<em><strong>options[0]</strong></em>:<br>â€ƒâ€ƒ
<em><strong>DFN</strong></em> <em>output mode</em></td>
<td style="text-align: left;">If <code>1</code>: <strong>âˆ†F</strong>
returns a dfn, which (upon execution) produces the same output as the
default mode.<br>If <code>0</code> (default): <strong>âˆ†F</strong>
returns a char. matrix.</td>
</tr>
<tr>
<td
style="text-align: left;">â€ƒ<em><strong>options[1]</strong></em>:<br>â€ƒâ€ƒ
<em><strong>DBG</strong></em> <em>(debug) mode</em></td>
<td style="text-align: left;">If <code>1</code>: Renders newline
characters from <code>`â—‡</code> as the visible <code>â¤</code> character.
Displays the source code that the <em>f-string</em>
<strong><em>actually</em></strong> generates; if
<strong><em>DFN</em></strong> is also <code>1</code>, this will include
the embedded <em>f-string</em> source (accessed as <code>`âµ0</code>).
After the source code is displayed, it will be executed or converted to
a <em>dfn</em> and returned (see the <em><strong>DFN</strong></em>
option above).<br>If <code>0</code> (default): Newline characters from
<code>`â—‡</code> are rendered normally as carriage returns,
<code>â•UCS 13</code>; the <em><strong>DFN</strong></em> source code is
not displayed.</td>
</tr>
<tr>
<td
style="text-align: left;">â€ƒ<em><strong>options[2]</strong></em>:<br>â€ƒâ€ƒ
<em><strong>BOX</strong></em> <em>mode</em></td>
<td style="text-align: left;">If <code>1</code>: Each field (except a
null <strong>Text field</strong>) is boxed separately.<br>If
<code>0</code> (default): Nothing is boxed automatically. Any
<strong>Code field</strong> expression may be explicitly boxed using the
<strong>Box</strong> shortcut,
<code>`B</code>.<br><small><strong>Note</strong>:
<em><strong>BOX</strong></em> mode can be used both with
<em><strong>DFN</strong></em> and default output mode.</small></td>
</tr>
<tr>
<td
style="text-align: left;">â€ƒ<em><strong>options[3]</strong></em>:<br>â€ƒâ€ƒ<em><strong>INLINE</strong></em>
<em>mode</em></td>
<td style="text-align: left;">If <code>1</code> and the
<em><strong>DFN</strong></em> option is set: The code for each internal
support function used is included in the <em>dfn</em> result;
<em><strong>no</strong></em> reference to namespace
<strong>â™Fapl</strong> will be made during the execution of that
<em>dfn</em>.<br>If <code>0</code> (default): Whenever
<strong>âˆ†F</strong> or a <em>dfn</em> generated by it is executed, it
makes calls to library routines in the namespace <strong>â™Fapl</strong>,
created during the <code>]load âˆ†Fapl</code>
process.<br><small><strong>Note:</strong> This option is experimental
and may simply disappear one day.</small></td>
</tr>
<tr>
<td style="text-align: left;">â€ƒ'help'</td>
<td style="text-align: left;">If <code>'help'</code> is specified, this
amazing documentation is displayed.</td>
</tr>
<tr>
<td style="text-align: left;"><strong><em>result</em></strong></td>
<td style="text-align: left;">If <code>0=âŠƒoptions</code>, the result is
always a character matrix.<br>If <code>1=âŠƒoptions</code>, the result is
a dfn that, <em>when executed in the same environment with the same
arguments</em>, generates that same character matrix.
<br><small><strong>Note</strong>: If an error is signalled, no result is
returned.</small></td>
</tr>
</tbody>
</table>
<h3 id="f-options">âˆ†F Options</h3>
<ul>
<li>If the left argument <code>âº</code> is omitted, the options default
to <code>4â´0</code>.</li>
<li>If the left argument <code>âº</code> is a simple boolean vector or
scalar, or an empty numeric vector <code>â¬</code>, the options are
<code>4â†‘âº</code>; subsequent elements are ignored;</li>
<li>If the left argument <code>âº</code> starts with <code>'help'</code>
(case ignored), this help information is displayed. In this case only,
the right argument to <strong>âˆ†F</strong> is ignored.</li>
<li>Otherwise, an error is signaled.</li>
</ul>
<h3 id="f-return-value">âˆ†F Return Value</h3>
<ul>
<li>Unless the <strong>DFN</strong> option is selected,
<strong>âˆ†F</strong> always returns a character matrix of at least one
row and zero columns, <code>1 0â´0</code>, on success. If the 'help'
option is specified, <strong>âˆ†F</strong> displays this information,
returning <code>1 0â´0</code>.</li>
<li>If the <strong>DFN</strong> option is selected, <strong>âˆ†F</strong>
always returns a standard Dyalog dfn on success.</li>
<li>On failure of any sort, an informative APL error is signaled.</li>
</ul>
<h3 id="f-f-string-building-blocks">âˆ†F F-string Building Blocks</h3>
<p>The first element in the right arg to âˆ†F is a character vector, an
<em>f-string</em>, which contains one or more <strong>Text
fields</strong>, <strong>Code fields</strong>, and <strong>Space
fields</strong> in any combination.</p>
<ul>
<li><strong>Text</strong> fields consist of simple text, which may
include any Unicode characters desired, including newlines. Newlines
(actually, carriage returns, <code>â•UCS 13</code>) are normally entered
via the sequence <code>`â—‡</code>. Additionally, literal curly braces can
be added via <code>`{</code> and <code>`}</code>, so they are distinct
from the simple curly braces used to begin and end <strong>Code
fields</strong> and <strong>Space Fields</strong>. Finally, a single
backtick escape can be entered into a <strong>Text field</strong> by
entering two such characters together <code>``</code>.
<ul>
<li>If <strong>âˆ†F</strong> is called with an empty string,
<code>âˆ†F ''</code>, it is interpreted as containing a single 0-length
<strong>Text</strong> field, returning a matrix of shape
<code>1 0</code>.</li>
</ul></li>
<li><strong>Code</strong> fields are run-time evaluated expressions
enclosed within simple, unescaped curly braces <code>{}</code>,
<em>i.e.</em> those not preceded by a back-tick (see the previous
paragraph). <strong>Code</strong> fields are essentially a Dyalog dfn
with some extras. For escape sequences, see <strong>Escape
Sequences</strong> below.</li>
<li><strong>Space</strong> fields are essentially a <em>degenerate</em>
form of <strong>Code</strong> fields, consisting of a single pair of
simple curly braces <code>{}</code> with zero or more spaces in between.
<ul>
<li>A <strong>Space</strong> field with zero spaces is a null
<strong>Space</strong> field; while it may separate any other fields,
its practical use is separating two adjacent <strong>Text</strong>
fields.</li>
</ul></li>
</ul>
<p>The building blocks of an <em>f-string</em> are these defined
"fields," catenated left to right, each of which will display as a
logically separate 2-D (matrix) output space. While
<strong>Code</strong> fields can return arrays of any number of
dimensions mapped onto 2-D by APL <code>â•FMT</code> rules,
<strong>Text</strong> fields and <strong>Space</strong> fields are
always simple rectangles (minimally 1 row and zero columns). Between
fields, <strong>âˆ†F</strong> adds no automatic spaces; that spacing is
under user control.</p>
<h3 id="escape-sequences-for-text-fields-and-quoted-strings">Escape
Sequences For Text Fields and Quoted Strings</h3>
<p><strong>âˆ†F</strong> <strong>Text</strong> fields and <strong>Quoted
strings</strong> in <strong>Code</strong> fields may include a small
number of escape sequences, beginning with the backtick
<code>`</code>.</p>
<table>
<thead>
<tr>
<th style="text-align: center;">Escape Sequence</th>
<th style="text-align: center;">What It Inserts</th>
<th style="text-align: center;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><strong>`â—‡</strong></td>
<td style="text-align: center;"><em>newline</em></td>
<td style="text-align: center;">â•UCS 13</td>
</tr>
<tr>
<td style="text-align: center;"><strong>``</strong></td>
<td style="text-align: center;">`</td>
<td style="text-align: center;">backtick</td>
</tr>
<tr>
<td style="text-align: center;"><strong>`{</strong></td>
<td style="text-align: center;">{</td>
<td style="text-align: center;">left brace</td>
</tr>
<tr>
<td style="text-align: center;"><strong>`}</strong></td>
<td style="text-align: center;">}</td>
<td style="text-align: center;">right brace</td>
</tr>
</tbody>
</table>
<p>Other instances of the backtick character in <strong>Text</strong>
fields or <strong>Quoted strings</strong> in <strong>Code</strong>
fields will be treated literally, <em>i.e.</em> sometimes a backtick is
just a backtick.</p>
<h3 id="code-field-shortcuts">Code Field Shortcuts</h3>
<p><strong>âˆ†F</strong> <strong>Code</strong> fields may contain various
shortcuts, intended to be concise and expressive tools for common tasks.
<strong>Shortcuts</strong> are valid in <strong>Code</strong> fields
only <em>outside</em> <strong>Quoted strings</strong>.</p>
<p><strong>Shortcuts</strong> include:</p>
<table>
<thead>
<tr>
<th
style="text-align: left;">Shortcut<div style="width:100px"></div></th>
<th style="text-align: left;">Name<div style="width:150px"></div></th>
<th style="text-align: left;">Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><strong>`A</strong>,
<strong>%</strong></td>
<td style="text-align: left;">Above</td>
<td style="text-align: left;"><code>[âº] % âµ</code>. Centers array
<code>âº</code> above array <code>âµ</code>. If omitted,
<code>âºâ†''</code>, <em>i.e.</em> a blank line.</td>
</tr>
<tr>
<td style="text-align: left;"><strong>`B</strong></td>
<td style="text-align: left;">Box</td>
<td style="text-align: left;"><code>`B âµ</code>. Places <code>âµ</code>
in a box. <code>âµ</code> is any array.</td>
</tr>
<tr>
<td style="text-align: left;"><strong>`C</strong></td>
<td style="text-align: left;">Commas</td>
<td style="text-align: left;"><code>`C âµ</code>. Adds commas to
<code>âµ</code> after every 3rd digit of the integer part of
<code>âµ</code>, right-to-left. <code>âµ</code> is a vector of num strings
or numbers.</td>
</tr>
<tr>
<td style="text-align: left;"><strong>`D</strong></td>
<td style="text-align: left;">Date-TimeÂ¹</td>
<td style="text-align: left;">Synonym for <strong>`T</strong>.</td>
</tr>
<tr>
<td style="text-align: left;"><strong>`F</strong>,
<strong>$</strong></td>
<td style="text-align: left;">â•FMT</td>
<td style="text-align: left;"><code>[âº] $ âµ</code>. Short for
<code>[âº] â•FMT âµ</code>. (See APL documentation).</td>
</tr>
<tr>
<td style="text-align: left;"><strong>`Q</strong></td>
<td style="text-align: left;">Quote</td>
<td style="text-align: left;"><code>[âº]`Q âµ</code>. Recursively scans
<code>âµ</code>, putting char. vectors, scalars, and rows of
higher-dimensional strings in APL quotes, leaving other elements as is.
If omitted, <code>âºâ†''''</code>.</td>
</tr>
<tr>
<td style="text-align: left;"><strong>`T</strong></td>
<td style="text-align: left;">Date-TimeÂ¹</td>
<td style="text-align: left;"><code>[âº]`T âµ</code>. Displays
timestamp(s) <code>âµ</code> according to date-time template
<code>âº</code>. <code>âµ</code> is one or more APL timestamps
<code>â•TS</code>. <code>âº</code> is a date-time template in
<code>1200âŒ¶</code> format. If omitted,
<code>âºâ† 'YYYY-MM-DD hh:mm:ss'</code>.</td>
</tr>
<tr>
<td style="text-align: left;"><strong>`W</strong>
<span style="color: red;font-size: 70%;"><strong>EXPERIMENTAL!</strong></span></td>
<td style="text-align: left;">Wrap</td>
<td style="text-align: left;"><code>[âº]`W âµ</code>. Wraps the rows of
simple arrays in âµ in decorators <code>0âŠƒ2â´âº</code> (on the left) and
<code>1âŠƒ2â´âº</code> (on the right). If omitted, <code>âºâ†''''</code>.
<em>See details below.</em></td>
</tr>
<tr>
<td style="text-align: left;"><strong>`âµğ‘‘ğ‘‘</strong>,
<strong>â¹ğ‘‘ğ‘‘</strong></td>
<td style="text-align: left;">Omega Shortcut
(<small>EXPLICIT</small>)</td>
<td style="text-align: left;">A shortcut of the form <code>`âµğ‘‘ğ‘‘</code>
(or <code>â¹ğ‘‘ğ‘‘</code>), to access the <code>ğ‘‘ğ‘‘</code><strong>th</strong>
element of <code>âµ</code>, <em>i.e.</em> <code>(âµâŠƒâ¨ ğ‘‘ğ‘‘+â•IO)</code>.
<em>See details below.</em></td>
</tr>
<tr>
<td style="text-align: left;"><strong>`âµ</strong>,
<strong>â¹</strong></td>
<td style="text-align: left;">Omega Shortcut
(<small>IMPLICIT</small>)</td>
<td style="text-align: left;">A shortcut of the form <code>`âµ</code> (or
<code>â¹</code>), to access the <strong><em>next</em></strong> element of
<code>âµ</code>. <em>See details below.</em></td>
</tr>
</tbody>
</table>
<hr />
<details>            
<summary>Note</summary>
<div class="notes">

<table>
<thead>
<tr>
<th style="text-align: left;">Note</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">Â¹ The syntax for the Date-Time
specifications (left arg) can be found in the Dyalog documentation under
<b>1200âŒ¶</b>. For the curious, here's the code actually used by the
Date-Time shortcut:
<br>â€ƒâ€ƒ<code>{âºâ†'YYYY-MM-DD hh:mm:ss' â—‡ âˆŠâ£(1=â‰¡âµ)âŠ¢ âº(1200âŒ¶)âŠ¢ 1â•DT âŠ†âµ}</code>.</td>
</tr>
</tbody>
</table>
</div></details>

<hr />
<h3 id="omega-shortcut-expressions-details">Omega Shortcut Expressions:
Details</h3>
<ol type="1">
<li><strong>â¹</strong> is a synonym for <strong>`âµ</strong>. It is
Unicode character <code>â•UCS 9081</code>. Either expression is valid
only in <strong>Code</strong> fields and outside <strong>Quoted
strings</strong>.</li>
<li><strong>`âµ</strong> or <strong>â¹</strong> uses an "<em>omega index
counter</em>" (<strong>OIC</strong>) which we'll represent as
<strong>Î©</strong>, common across all <strong>Code</strong> fields,
which is initially set to zero, <code>Î©â†0</code>. (Î© is just used for
explication; don't actually use this symbol)</li>
<li>All omega shortcut expressions in the <em>f-string</em> are
evaluated left to right and are â•IO-independent.</li>
<li><strong>`âµğ‘‘ğ‘‘</strong> or <strong>â¹ğ‘‘ğ‘‘</strong> sets the <em>OIC</em>
to ğ‘‘ğ‘‘, <code>Î©â†ğ‘‘ğ‘‘</code>, and returns the expression
<code>(âµâŠƒâ¨Î©+â•IO)</code>. Here <strong>ğ‘‘ğ‘‘</strong> must be a
<em>non-negative integer</em> with at least 1 digit.</li>
<li>Bare <strong>`âµ</strong> or <strong>â¹</strong> (<em>i.e.</em> with
no digits appended) increments the <em>OIC</em>, <code>Î©+â†1</code>,
<em>before</em> using it as the index in the expression
<code>(âµâŠƒâ¨Î©+â•IO)</code>.</li>
<li>The <em>f-string</em> itself (the 0-th element of
<strong>âµ</strong>) is always accessed as <code>`âµ0</code> or
<code>â¹0</code>. The omega with <em>implicit index</em> always
increments its index <em>before</em> use, <em>i.e.</em> starting by
default with <code>`âµ1</code> or <code>â¹1</code>.</li>
<li>If an element of the dfn's right argument <strong>âµ</strong> is
accessed at runtime via any means, shortcut or traditional, that element
<strong><em>must</em></strong> exist.</li>
</ol>
<div class="content-with-left-bar">

<h3 id="wrap-shortcut-details-experimental">Wrap Shortcut: Details
(Experimental)</h3>
<ol type="1">
<li>Syntax: <code>[âºâ†''''] `W âµ</code>.</li>
<li>Let <code>Lâ†0âŠƒ2â´âº</code> and <code>Râ†1âŠƒ2â´âº</code>.</li>
<li>Wrap each row <code>Xâ€²</code> of the simple arrays <code>X</code> in
<code>âµ</code> (or the entire array <code>X</code> if a simple vector or
scalar) in decorators <code>L</code> and <code>R</code>:
<code>L,(â•Xâ€²),R</code>.</li>
<li><code>âµ</code> is an array of any shape and depth.<code>L</code>and
<code>R</code>are char. vectors or scalars or <code>â¬</code> (treated as
<code>''</code>).</li>
<li>If there is one scalar or enclosed vector <code>âº</code>, it is
replicated <em>per (2) above</em>.</li>
<li>By default,<code>âºâ† ''''</code>,<em>i.e.</em> APL quotes will wrap
the array âµ, row by row, whether character, numeric or otherwise.</li>
</ol>
</div>
</details>  

<h3 id="undocumented-options">Undocumented Options</h3>
<ol type="1">
<li>If <code>options[0]</code> is <code>Â¯1</code>, then
<strong>âˆ†F</strong> returns a character vector that contains the source
code for the <em>dfn</em> that would have been returned via the
<em><strong>DFN</strong></em> option, <code>options[0]=1</code>. If
<em><strong>DBG</strong></em> is also set, newlines from <code>`â—‡</code>
are shown as visible <code>â¤</code>. However, since this option returns
the code string <em>verbatim</em>, the <em><strong>DBG</strong></em>
option won't <em>display</em> the code string redundantly.</li>
</ol>
<hr />
<div class="fixed-footer">
<a href="#f---formatted-string-literals">Top</a>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a href="#table-of-contents">Table of Contents</a> 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a href="#f-examples">Examples</a>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a href="#f-syntax-and-other-information">Syntax</a>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a href="#copyright">Copyright</a>
</div>

<h2 id="copyright">Copyright</h2>
<span style="font-family:cursive;" >
(C) 2025 Sam the Cat Foundation. [20251002T200835]
</span>
<hr> 
&emsp;
</body>
</html>
